<HTML>
<title>Illustration of oeis.org/A377091 - (c) 2025 by M. F. Hasler</title>
<!-- based on A290447-interactive.html, (c) 2017 by MFH -->
Illustration of <a href="http://oeis.org/A377091">A377091</a> = <span id=seq>0, 1, 2, -2, -1, ...</span></br>
Enter the number of points, n =<input id="N" onchange="draw()" size=6 value=9 />
<input type=submit onclick="draw()" value=Draw />
(line width: <input id="linewidth" onchange="draw()" size=3 value=1 />,
blob size: <input id="blobsize" onchange="draw()" size=3 value=3 />,
)
	<hr/>
<svg xmlns="http://www.w3.org/2000/svg" id="mySVG" height="90%" width="90%" ></svg>
<script>
var A377091 = [0], least_unused = 1;
function next_larger(x) { return x>0 ? -x : 1-x; }
function issquare(x) { return x == Math.sqrt(x).toFixed()**2; }
function a(n){
  while( A377091.length <= n ) { /* need to append more elements */
    var last = A377091[A377091.length-1], k = least_unused;
	while( !issquare( Math.abs( last - k )))
		do k = next_larger(k); 
		while ( A377091.indexOf( k ) > 0 );
	A377091.push(k);
	if ( k == least_unused )
		do least_unused = next_larger(least_unused); 
		while ( A377091.indexOf( least_unused ) > 0 );
	if ( A377091.length > n ) /* update list */
		document.getElementById("seq").innerHTML = A377091.join(", ")+", ...";
  }; return A377091[n];
}
function draw(){
	var N = document.getElementById("N").value,
		scale = 50 /* unit => pixels */, rmax=0, mina=0, maxa=0,
		svg = '<desc property="dc:creator">M. F. Hasler (M.F.@Hasler.fr)</desc>\n';
	function blob(x){
		svg += '<circle fill="#000" stroke="none" cx="'+(x*scale)+'" cy="0" r="'
			+ document.getElementById("blobsize").value +'" />\n'
			+ '<text x="'+(x*scale-15)+'" y="15">' + x + '</text>\n';
	}
	blob(0);
	for( i = 0; i < N; i++) { /* draw half-circle = Arc from a(i) to a(i+1) */
		var start=a(i), end=a(i+1), r = Math.abs(end-start)*scale/2;
		if ( r > rmax ) rmax = r;
		if ( end < mina ) mina = end;
		else if ( end > maxa ) maxa = end;
		svg += '<path d="M '+ start*scale +' 0 A '+r+' '+r+' 0 0 '+(start < end ? 1-i%2 : i%2) +' '+ end*scale 
			+' 0" fill="none" stroke="#000" stroke-width="'+ document.getElementById("linewidth").value +'" />\n';
		blob(end);
	}	
	svg += '<path stroke="#000" stroke-width="1" d="M '
		+ (mina-.5)*scale +' 0 H '+ (maxa+.5)*scale +'"/>\n';

	S=document.getElementById("mySVG"); rmax *= 1.1;
	S.setAttribute("viewBox",String((mina-1)*scale)+" -"+ rmax +" "+ (maxa-mina+2)*scale +" "+ 2*rmax);
	S.innerHTML = svg;
};
draw(9);
</script>
</HTML>
